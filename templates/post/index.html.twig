{% extends 'base.html.twig' %}

{% block title %}Hello PostController!{% endblock %}

{% block body %}
    <nav>
        <ul>
            <li><a href="{{path("tag_index")}}">go to tags</a></li>
            <li><a href="{{path('author_index')}}">go to authors</a></li>
        </ul>
    </nav>

    <ul>
    {% for post in posts %}

    {# Check if the visible option is checked #}
        {% if post.visible == true %}

            <li>
                <b>{{ post.id ~ ' - ' ~ post.title }}</b>
                <p>{{ post.description }}</p>
                <p>tags: {{ post.tags|length }}</p>
                <p>
                {% for tag in post.tags %}
                    <a href="{{path('tag_show', {'id': tag.id})}}">{{ tag }} </a>
                {% endfor %}
                </p>
                <form method="POST" action="{{path("post_delete", {id: post.id})}}">
                <button type="submit">Verwijderen</button>
                </form>
                {# <a href="/post/update/{{post.id}}" title="Edit">Edit</a> #}
                <a href="{{path("post_update", {id: post.id})}}" title="Edit">Bewerk</a>
            </li>
        {% endif %}

    {% endfor %}
    </ul>
        <a href="{{ path('post_create') }}">Create new</a>

{% endblock %}